{"version":3,"file":"raycaster.js","sourceRoot":"","sources":["../../../src/utils/raycaster.ts"],"names":[],"mappings":"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"}